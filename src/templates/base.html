{% load static %}
<!DOCTYPE html>
<html lang="en" dir="ltr" data-bs-theme="light" data-color-theme="Blue_Theme" data-layout="vertical">

  <head>
    <!-- Required meta tags -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Favicon icon-->
    <link rel="shortcut icon" type="image/png" href="{% static 'assets/images/logos/favicon.png' %}" />

    <!-- Core Css -->
    <link rel="stylesheet" href="{% static 'assets/css/styles.css' %}" />
    <title>Mentora Admin</title>

    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"
      integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  </head>

  <body>
    <!-- Toast -->
    <div class="toast toast-onload align-items-center text-bg-primary border-0" role="alert" aria-live="assertive"
      aria-atomic="true">
      <div class="toast-body hstack align-items-start gap-6">
        <i class="ti ti-alert-circle fs-6"></i>
        <div>
          <h5 class="text-white fs-3 mb-1">Welcome to Mentora</h5>
          <h6 class="text-white fs-2 mb-0">"Smart School Management, Seamlessly Delivered."</h6>
        </div>
        <button type="button" class="btn-close btn-close-white fs-2 m-0 ms-auto shadow-none" data-bs-dismiss="toast"
          aria-label="Close"></button>
      </div>
    </div>
    <!-- Preloader -->
    <div class="preloader">
      <img src="{% static 'assets/images/logos/favicon.png' %}" alt="loader" class="lds-ripple img-fluid" />
    </div>
    <div id="main-wrapper">
      <!-- Sidebar Start -->
      {% include 'partials/sidebar.html' %}
      <!--  Sidebar End -->
      <div class="page-wrapper">
        <!--  Header Start -->
        {% include 'partials/header.html' %}
        <!--  Header End -->

        <!-- left horizontal bar -->
        <!-- Messages -->

        {% block content %}
        {% endblock %}


      </div>

    </div>
    <!-- <div class="dark-transparent sidebartoggler"></div> -->
    {% block scripts %}
    {% endblock %}
    <script src="{% static 'assets/js/vendor.min.js' %}"></script>
    <!-- Import Js Files -->
    <script src="{% static 'assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'assets/libs/simplebar/dist/simplebar.min.js' %}"></script>
    <!-- <script src="{% static 'assets/js/theme/app.init.js' %}"></script> -->
    <script src="{% static 'assets/js/theme/theme.js' %}"></script>
    <script src="{% static 'assets/js/theme/app.min.js' %}"></script>
    <script src="{% static 'assets/js/theme/sidebarmenu.js' %}"></script>

    <!-- solar icons -->
    <script src="https://cdn.jsdelivr.net/npm/iconify-icon@3.0.0/dist/iconify-icon.min.js"></script>

    <script src="{% static 'assets/libs/apexcharts/dist/apexcharts.min.js' %}"></script>
    <!-- JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.2/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.bootstrap5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.print.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>

    <!-- Custom JavaScript -->
    <script>
      // Sidebar Toggle
      document.getElementById('sidebarToggle').addEventListener('click', function () {
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.getElementById('mainContent');

        sidebar.classList.toggle('collapsed');
        mainContent.classList.toggle('expanded');
      });

      // Mobile Sidebar Toggle
      if (window.innerWidth <= 768) {
        document.getElementById('sidebarToggle').addEventListener('click', function () {
          const sidebar = document.getElementById('sidebar');
          sidebar.classList.toggle('show');
        });
      }

      // Auto-hide messages after 5 seconds
      setTimeout(function () {
        $('.alert').fadeOut('slow');
      }, 5000);

      // Loading overlay functions
      function showLoading() {
        document.getElementById('loadingOverlay').classList.remove('d-none');
      }

      function hideLoading() {
        document.getElementById('loadingOverlay').classList.add('d-none');
      }

      // Toast notification function
      function showToast(message, type = 'info') {
        const toastContainer = document.querySelector('.toast-container');
        const toastId = 'toast-' + Date.now();

        const toastHtml = `
                    <div id="${toastId}" class="toast show" role="alert">
                        <div class="toast-header">
                            <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-triangle' : 'info-circle'} me-2 text-${type}"></i>
                            <strong class="me-auto">Notification</strong>
                            <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
                        </div>
                        <div class="toast-body">
                            ${message}
                        </div>
                    </div>
                `;

        toastContainer.insertAdjacentHTML('beforeend', toastHtml);

        // Auto remove toast after 5 seconds
        setTimeout(() => {
          const toast = document.getElementById(toastId);
          if (toast) {
            toast.remove();
          }
        }, 5000);
      }

      // CSRF Token Setup for AJAX
      function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== '') {
          const cookies = document.cookie.split(';');
          for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            if (cookie.substring(0, name.length + 1) === (name + '=')) {
              cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
              break;
            }
          }
        }
        return cookieValue;
      }

      const csrftoken = getCookie('csrftoken');

      // Set CSRF token for all AJAX requests
      $.ajaxSetup({
        beforeSend: function (xhr, settings) {
          if (!(/^http:.*/.test(settings.url) || /^https:.*/.test(settings.url))) {
            xhr.setRequestHeader("X-CSRFToken", csrftoken);
          }
        }
      });

      // Initialize tooltips
      var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
      var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
      });
    </script>

    {% block extra_js %}{% endblock %}

  </body>

</html>